# CLAUDE.md — правила для работы с проектом dzamukov.com

## Структура проекта

- `index.html` — главная страница (RU)
- `en/index.html` — главная страница (EN)
- `index.ai.html` / `en/index.ai.html` — AI-версии для поисковых систем
- `images/photos/` — оптимизированные фото для сайта (WebP)
- `images/originals/` — исходные фото (не коммитятся, в .gitignore)
- `ai-systems/` — страницы AI-продуктов
- `blog/` — статьи блога
- `blog/article.css` — общие стили для всех статей блога
- `blog/article.js` — общий JS для статей (галерея, лайтбокс, свайп)

## Двуязычность

Каждое изменение контента ОБЯЗАТЕЛЬНО дублировать в:
1. `index.html` (RU)
2. `en/index.html` (EN)
3. `index.ai.html` (RU AI-версия) — если затрагивает структурные данные
4. `en/index.ai.html` (EN AI-версия) — если затрагивает структурные данные

## Оптимизация фото

### Фото для главной страницы и карточек
1. **Формат:** WebP
2. **Ширина:** 800px (высота пропорциональна)
3. **Качество:** 80%
4. **CSS:** `object-fit: cover` для масштабирования в контейнерах

### Скриншоты для блога (дашборды, интерфейсы, текст с мелкими цифрами)
1. **Формат:** WebP
2. **Разрешение:** оригинальное (не ресайзить) — чтобы при клике в лайтбоксе всё было чётко на любом экране
3. **Качество:** 92% — визуально неотличимо от PNG, файл в 3-5 раз легче
4. **Почему не 80% и не 800px:** на скриншотах с мелким текстом и цифрами потеря качества заметна; лайтбокс открывает картинку на весь экран, поэтому нужно полное разрешение

### Общие правила
1. **Именование:** латиница, kebab-case, смысловые имена (напр. `expedition-arctic-selfie.webp`, `bank-dashboard-balance-commissions-chart.webp`)
2. **HTML-атрибуты:** `loading="lazy"`, `width`, `height` — всегда указывать
3. **Оригиналы:** после оптимизации перемещать в `images/originals/<slug-статьи>/` (не коммитятся, в .gitignore)

## Alt-тексты

- Описательные, на языке страницы (RU для index.html, EN для en/index.html)
- Включают контекст, локацию, действие
- Пример: «Георгий Дзамуков в 1200 км от Северного полюса — селфи в арктической экипировке»

## Блог (статьи)

### Структура статьи

Каждая статья — `blog/<slug>/index.html`. Изображения статьи — `blog/<slug>/images/`.

### Общие файлы

- **`blog/article.css`** — единый CSS для всех статей. НЕ дублировать стили в `<style>` внутри статей.
- **`blog/article.js`** — единый JS: галереи, лайтбокс (клик по фото → полноэкран), фикс свайпа.
- При создании новой статьи подключать оба файла:
  ```html
  <link rel="stylesheet" href="/blog/article.css">          <!-- в <head> -->
  <script src="/blog/article.js" defer></script>             <!-- перед </body> -->
  ```

### Шаблон новой статьи

В `<head>` статьи ОБЯЗАТЕЛЬНО:
1. Google Analytics + Яндекс Метрика (как на всех страницах)
2. Мета-теги: description, og:title, og:description, og:image, og:url, twitter:card
3. JSON-LD (`@type: Article`) с headline, author, datePublished, publisher
4. Google Fonts (Inter + DM Serif Display)
5. `<link rel="stylesheet" href="/blog/article.css">`

HTML-структура `<body>`:
```
<nav class="nav"> — фиксированная навигация (Статьи / Dzamukov)
<article class="article"> — основной контент
  .article-meta — дата публикации
  h1 — заголовок
  .article-lead — лид-абзац с золотой линией слева
  контент: p, h2, h3, figure, ul/ol, .gallery, .article-result
  .article-cta — блок призыва к действию
</article>
<footer class="footer">
<script src="/blog/article.js" defer>
```

### Галереи / карусели

- Используют атрибут `data-gallery` на контейнере
- Слайды: `.gallery-slide` (первый с классом `.active`)
- Навигация: `.gallery-dots` + `.gallery-arrow--prev` / `.gallery-arrow--next`
- Подписи: `data-caption` на каждом `.gallery-slide` (короткие, 3-7 слов)
- `.gallery-caption` — пустой div, заполняется из JS
- JS в `blog/article.js` — свайп с защитой от browser-back, точки, стрелки

### Лайтбокс

- Автоматически работает на всех `<img>` внутри `.article`
- Клик → полноэкранный просмотр, ESC или клик → закрытие
- Стили и JS уже в общих файлах, ничего дополнительно подключать не нужно

### Изменение стилей статей

Все стили статей — ТОЛЬКО в `blog/article.css`. Изменения автоматически применяются ко всем статьям. Не добавлять `<style>` в отдельные статьи.

### Список статей

Страница `blog/index.html` — список всех статей. При добавлении новой статьи обновить этот список.

## Счётчики аналитики

На КАЖДОЙ HTML-странице проекта ОБЯЗАТЕЛЬНО должны стоять оба счётчика в `<head>`:

1. **Google Analytics** (G-49Q95G33CJ) — первым в `<head>`
2. **Яндекс Метрика** (106909672) — сразу после Google Analytics

При создании новой HTML-страницы — всегда добавлять оба счётчика. Без исключений.

## Дизайн

- Тёмная тема: `--bg: #0c0b0a`, `--bg-card: #131211`
- Акцент: `--accent: #c8a96e` (золотой)
- Текст: `--text: #f0ece4`, `--text-dim: #7a746a`
- Шрифты: `Inter` (основной), `DM Serif Display` (заголовки/числа)
- Скруглённые углы карточек: `border-radius: 12px`
- Анимации: `.reveal` классы с IntersectionObserver
